[Unit]
Description=Locust.io {{ instance_name }} master
Requires=network-online.target
After=network-online.target

[Service]
Restart=on-failure
{% if run_as_user is defined %}
User={{ run_as_user }}
{% else %}
User=root
{% endif %}
{% if run_as_group is defined %}
Group={{ run_as_group }}
{% else %}
Group=root
{% endif %}
PermissionsStartOnly=true
ExecStart=/opt/locust.io/{{ instance_name }}/start_script
KillSignal=SIGTERM

[Install]
WantedBy=multi-user.target
